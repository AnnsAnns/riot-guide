---
title: api-sys_luid.md
description: api-sys_luid.md
---
# group `sys_luid` 

Generate system wide (locally) unique IDs.

This module generates system wide, variable length unique IDs based on on the cpuid module. If the cpuid module is not present, the module falls back to a pre-defined, constant seed for creating unique IDs.

The main purpose of this module is to have a unified way for e.g. creating hardware addresses and similar.

The IDs generated by this module are base created from a constant base part and a dynamic portion, which is XORed into the base ID. If the cpuid module is present, the base ID is created from the CPU's unique ID. If not, the base ID is created by simple 'memsetting' the base ID with the defined backup seed value.

Once the base ID is generated, a LUID is generated by (i) XORing a counter value with the LSB of the base ID, or (ii) by XORing the least significant byes with a value given by the user.

Example: Calling `luid_base(&buf, 8)` will always yield an identical value, independent how often the function is called. But calling `luid_base(&buf, 2)` afterwards will results in a different value, if the cpuid module is present, and in the same (but shorter) value if not.

Example: Calling `luid_get(&buf, 8)` four times in a row, will yield four different IDs, differing in their LSB.

Example: Calling `luid_custom(&buf, 8, 123)` will always yield the same value, but calling `luid_custom(&buf, 8, 124)` will differ.

This module generates locally unique IDs without any guarantees on their structure. These LUIDs are not compatible nor conform to UUIDs as defined in RFC4122.

## Summary

 Members                        | Descriptions                                
--------------------------------|---------------------------------------------
`define `[`LUID_BACKUP_SEED`](#group__sys__luid_1ga349e2e583cf05929b95f7472b1c70c8c)            | Value used as based for the LUIDs in case the cpuid module is not present.
`public void `[`luid_get`](#group__sys__luid_1gaf8a68544e02887426ca9b1e6d3edd3e2)`(void * buf,size_t len)`            | Get a unique ID.
`public void `[`luid_get_lb`](#group__sys__luid_1ga0b8167bbf3f5e2f27d8b1b48fdfd1387)`(void * buf,size_t len)`            | Get a unique ID with change in the last byte.
`public void `[`luid_get_short`](#group__sys__luid_1ga0d75546cc374ef815cd8b05dc1f2eef1)`(`[`network_uint16_t`](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#byteorder_8h_1a639ad79c8926cb896d5a8f12b14d49e3)` * addr)`            | Get a unique short unicast address.
`public void `[`luid_get_eui48`](#group__sys__luid_1ga376451f0fff70d6f3ef1d17221dfcba3)`(`[`eui48_t`](./doc/starlight-docs/src/content/docs/apidoc/api-net_eui48.md#structeui48__t)` * addr)`            | Get a unique EUI48 address.
`public void `[`luid_netdev_get_eui48`](#group__sys__luid_1ga75f895d6eb67306bddba5e9329a2661d)`(const `[`netdev_t`](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__drivers__netdev__api_1ga14012f723b7591ad2fa42ace34601ac4)` * netdev,`[`eui48_t`](./doc/starlight-docs/src/content/docs/apidoc/api-net_eui48.md#structeui48__t)` * addr)`            | Get a unique EUI48 address.
`public void `[`luid_get_eui64`](#group__sys__luid_1gab4a2825933935633f5f681abd9f84b4c)`(`[`eui64_t`](./doc/starlight-docs/src/content/docs/apidoc/api-net_eui64.md#unioneui64__t)` * addr)`            | Get a unique EUI64 address.
`public void `[`luid_netdev_get_eui64`](#group__sys__luid_1ga861524995fa2f826015ec0903e97b2c3)`(const `[`netdev_t`](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__drivers__netdev__api_1ga14012f723b7591ad2fa42ace34601ac4)` * netdev,`[`eui64_t`](./doc/starlight-docs/src/content/docs/apidoc/api-net_eui64.md#unioneui64__t)` * addr)`            | Get a unique EUI64 address.
`public void `[`luid_custom`](#group__sys__luid_1ga569f4c6e1dbf2c80207b09ee867be672)`(void * buf,size_t len,int gen)`            | Get a custom unique ID based on a user given generator value.
`public void `[`luid_base`](#group__sys__luid_1ga8bd75dc2c13c7fe654632c2c69c55a00)`(void * buf,size_t len)`            | Get a LUID base value.

## Members

#### `define `[`LUID_BACKUP_SEED`](#group__sys__luid_1ga349e2e583cf05929b95f7472b1c70c8c) 

Value used as based for the LUIDs in case the cpuid module is not present.

#### `public void `[`luid_get`](#group__sys__luid_1gaf8a68544e02887426ca9b1e6d3edd3e2)`(void * buf,size_t len)` 

Get a unique ID.

The resulting ID is built from the base ID generated with [luid_base()](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__sys__luid_1ga8bd75dc2c13c7fe654632c2c69c55a00), which isXORed with an 8-bit incrementing counter value into the first (lowest index) byte.

The resulting LUID will repeat after 255 calls. 

The generated LUID must be used unchanged, as it could collide with other LUIDs if altered.

#### Parameters
* `buf` memory location to copy the LUID into. MUST be able to hold at least `len` bytes 

* `len` length of the LUID in bytes

#### `public void `[`luid_get_lb`](#group__sys__luid_1ga0b8167bbf3f5e2f27d8b1b48fdfd1387)`(void * buf,size_t len)` 

Get a unique ID with change in the last byte.

The resulting ID is built from the base ID generated with [luid_base()](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__sys__luid_1ga8bd75dc2c13c7fe654632c2c69c55a00), which isXORed with an 8-bit incrementing counter value into the last (highest index) byte.

The resulting LUID will repeat after 255 calls.

#### Parameters
* `buf` memory location to copy the LUID into. MUST be able to hold at least `len` bytes 

* `len` length of the LUID in bytes

#### `public void `[`luid_get_short`](#group__sys__luid_1ga0d75546cc374ef815cd8b05dc1f2eef1)`(`[`network_uint16_t`](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#byteorder_8h_1a639ad79c8926cb896d5a8f12b14d49e3)` * addr)` 

Get a unique short unicast address.

The resulting address is built from the base ID generated with [luid_base()](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__sys__luid_1ga8bd75dc2c13c7fe654632c2c69c55a00), which isXORed with an 8-bit incrementing counter value into the least significant byte.

The resulting address will repeat after 255 calls.

#### Parameters
* `addr` memory location to copy the address into.

#### `public void `[`luid_get_eui48`](#group__sys__luid_1ga376451f0fff70d6f3ef1d17221dfcba3)`(`[`eui48_t`](./doc/starlight-docs/src/content/docs/apidoc/api-net_eui48.md#structeui48__t)` * addr)` 

Get a unique EUI48 address.

The resulting address is built from the base ID generated with [luid_base()](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__sys__luid_1ga8bd75dc2c13c7fe654632c2c69c55a00), which isXORed with an 8-bit incrementing counter value into the least significant byte.

The resulting address will repeat after 255 calls.

#### Parameters
* `addr` memory location to copy the address into.

#### `public void `[`luid_netdev_get_eui48`](#group__sys__luid_1ga75f895d6eb67306bddba5e9329a2661d)`(const `[`netdev_t`](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__drivers__netdev__api_1ga14012f723b7591ad2fa42ace34601ac4)` * netdev,`[`eui48_t`](./doc/starlight-docs/src/content/docs/apidoc/api-net_eui48.md#structeui48__t)` * addr)` 

Get a unique EUI48 address.

The resulting address is built from the base ID generated with [luid_base()](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__sys__luid_1ga8bd75dc2c13c7fe654632c2c69c55a00), which isXORed with the netdev type and netdev index in the least significant bytes.

the netdev registered itself with 

**See also**: [netdev_register](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__drivers__netdev__api_1ga969385cab163f1626f6072c2636a252b)

#### Parameters
* `netdev` Netdev to generate the EUI48 for. 

* `addr` memory location to copy the address into.

#### `public void `[`luid_get_eui64`](#group__sys__luid_1gab4a2825933935633f5f681abd9f84b4c)`(`[`eui64_t`](./doc/starlight-docs/src/content/docs/apidoc/api-net_eui64.md#unioneui64__t)` * addr)` 

Get a unique EUI64 address.

The resulting address is built from the base ID generated with [luid_base()](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__sys__luid_1ga8bd75dc2c13c7fe654632c2c69c55a00), which isXORed with an 8-bit incrementing counter value into the least significant byte.

The resulting address will repeat after 255 calls.

#### Parameters
* `addr` memory location to copy the address into.

#### `public void `[`luid_netdev_get_eui64`](#group__sys__luid_1ga861524995fa2f826015ec0903e97b2c3)`(const `[`netdev_t`](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__drivers__netdev__api_1ga14012f723b7591ad2fa42ace34601ac4)` * netdev,`[`eui64_t`](./doc/starlight-docs/src/content/docs/apidoc/api-net_eui64.md#unioneui64__t)` * addr)` 

Get a unique EUI64 address.

The resulting address is built from the base ID generated with [luid_base()](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__sys__luid_1ga8bd75dc2c13c7fe654632c2c69c55a00), which isXORed with the netdev type and netdev index in the least significant bytes.

the netdev registered itself with 

**See also**: [netdev_register](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__drivers__netdev__api_1ga969385cab163f1626f6072c2636a252b)

#### Parameters
* `netdev` Netdev to generate the EUI64 for. 

* `addr` memory location to copy the address into.

#### `public void `[`luid_custom`](#group__sys__luid_1ga569f4c6e1dbf2c80207b09ee867be672)`(void * buf,size_t len,int gen)` 

Get a custom unique ID based on a user given generator value.

The resulting ID is built from the base ID XORed with `gen` in the base ID's most significant bytes.

Calling this function with identical values for `gen` and `len` will always result in identical LUIDs.

#### Parameters
* `buf` memory location to copy the LUID into. MUST be able to hold at least `len` bytes 

* `len` length of the LUID in bytes 

* `gen` custom LUID generator value

#### `public void `[`luid_base`](#group__sys__luid_1ga8bd75dc2c13c7fe654632c2c69c55a00)`(void * buf,size_t len)` 

Get a LUID base value.

The luid module creates the value dependent on the given `len` value using the cpuid module if present or a static seed value ([LUID_BACKUP_SEED](./doc/starlight-docs/src/content/docs/apidoc/api-undefined.md#group__sys__luid_1ga349e2e583cf05929b95f7472b1c70c8c)) if not.

#### Parameters
* `buf` memory location to copy the LUID into. MUST be able to hold at least `len` bytes 

* `len` length of the LUID in bytes

